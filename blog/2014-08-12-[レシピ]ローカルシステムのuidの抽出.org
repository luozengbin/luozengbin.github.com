#+TITLE: [レシピ]ローカルシステムのUIDの抽出
#+DATE: 2014-08-12
#+SETUPFILE: ~/.emacs.d/blogs/octopress/setupfile.org
#+JEKYLL_LAYOUT: post
#+JEKYLL_CATEGORIES: linux
#+JEKYLL_TAGS: passwd awk sort
#+JEKYLL_COMMENTS: true
#+JEKYLL_PUBLISHED: true

LDAPにユーザID定義時にローカルシステムのUIDと被らないように、ローカルシステムのUIDと
GIDを抽出してみた。

ユーザID、1000番代以下はシステム予約番号のことがすぐわかる。
#+begin_example
$ cat /etc/passwd | awk -F: '{print $3 "\t" $1}' | sort -n
0	root
1	bin
2	daemon
8	mail
14	ftp
32	rpc
33	http
40	named
68	uuidd
74	dovenull
76	dovecot
81	dbus
84	avahi
87	ntp
89	mysql
99	nobody
102	polkitd
124	colord
169	transmission
191	systemd-journal-gateway
192	systemd-timesync
193	systemd-network
194	systemd-bus-proxy
195	systemd-resolve
241	mediatomb
439	ldap
998	dnsmasq
999	git
1000	akira
1002	amule
#+end_example

グループID一覧
#+begin_example
$ cat /etc/group | awk -F: '{print $3 "\t" $1}' | sort -n
0	root
1	bin
2	daemon
3	sys
4	adm
5	tty
6	disk
7	lp
8	mem
9	kmem
10	wheel
11	ftp
12	mail
14	uucp
19	log
20	utmp
21	locate
24	rfkill
25	smmsp
32	rpc
33	http
40	named
50	games
54	lock
68	uuidd
74	dovenull
76	dovecot
81	dbus
84	avahi
87	ntp
89	mysql
90	network
91	video
92	audio
93	optical
94	floppy
95	storage
96	scanner
97	input
98	power
99	nobody
100	users
102	polkitd
124	colord
169	transmission
190	systemd-journal
191	systemd-journal-gateway
192	systemd-timesync
193	systemd-network
194	systemd-bus-proxy
195	systemd-resolve
241	mediatomb
439	ldap
998	dnsmasq
999	git
1002	g001
1003	g002
1004	g003
1005	amule
#+end_example

=sort= コマンドで数字順でソートするためのオプションが =-n= であることを復習致しました。
